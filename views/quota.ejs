<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/navbar.css">
    <link rel="stylesheet" href="/css/quota.css">
</head>
<body>
    <div class="admin-wrapper">
        <!-- Sidebar -->
        <%- include('partials/sidebar') %>

        <!-- Page Content -->
        <div class="content">
            
            <div class="container pb-5 mb-2" style="margin-left:300px; padding-top:30px;">

            <!-- QuotaID Search-->
            <div class="searchID mb-2">
            <h4 class="mb-3">Quota ID</h4>
            <div class="d-flex justify-content-center mb-1">
                <div class="input-group search-bar">
                <input 
                    type="search" 
                    class="form-control" 
                    placeholder="Enter Quota ID..." 
                    aria-label="Search"
                >
                <button class="btn btn-primary" type="button" id="search-addon">
                    <i class="fa-solid fa-magnifying-glass"></i>
                </button>
                </div>
            </div>
            </div>

            <!-- Customer Information Section -->
            <div class="customer-info mt-4" id="customerInfo">
            <h5 class="mb-3">Customer Information</h5>

                <div class="row g-1">
                    <div class="col-md-6">
                    <label class="form-label mb-1">Customer Name</label>
                    <div class="info-value" id="custName">—</div>
                    </div>
                    <div class="col-md-6">
                    <label class="form-label mb-1">Company</label>
                    <div class="info-value" id="custCompany">—</div>
                    </div>
                    <div class="col-md-6">
                    <label class="form-label mb-1">Email</label>
                    <div class="info-value" id="custEmail">—</div>
                    </div>
                    <div class="col-md-6">
                    <label class="form-label mb-1">Contact Number</label>
                    <div class="info-value" id="custContact">—</div>
                    </div>
                </div>
            </div>


            <h4 class="mb-4">Quota Contents</h4>
            <form action="#" method="POST">
            <!-- Product 1 -->
            <% products.forEach(product => { %>
            <div class="cart-item my-3">
                <div class="product-grid">
                <!-- Product Info -->
                <div class="product-info d-flex align-items-center">
                    <img src="/assets/logo.png" alt="Product 1" class="me-3">
                    <div>
                    <h5 class="mb-1"><%= product.name %></h5>
                    <small class="text-muted d-block">SKU: <%= product.sku %></small>
                    <small class="text-muted">Qty: <span class="product-qty">10</span></small>
                    </div>
                </div>

                <!-- Pricing Controls -->
                <div class="pricing-controls d-flex align-items-center">
                    <div class="me-3 text-start">
                    <label class="small mb-1">Pricing</label>
                    <select class="form-select form-select-sm pricing-mode">
                        <option value="fixed">Fixed Price</option>
                        <option value="margin">Margin</option>
                    </select>
                    </div>

                    <div class="me-3 text-start base-price-wrapper" style="display:none;">
                    <label class="small mb-1">Base Price</label>
                    <input type="number" step="0.01" class="form-control form-control-sm base-price"
                            placeholder="Base Price" style="max-width:120px;">
                    </div>

                    <div class="text-start">
                    <label class="small mb-1 custom-label">Custom Price</label>
                    <input type="number" step="0.01" class="form-control form-control-sm custom-price"
                            placeholder="Enter value" style="max-width:120px;">
                    </div>
                </div>

                <!-- Price Summary -->
                <div class="price-summary d-flex align-items-center justify-content-around">
                    <div class="text-start me-3">
                    <label class="small mb-1">Price / Unit</label>
                    <div class="fw-bold unit-price">₱0.00</div>
                    </div>
                    <div class="text-start">
                    <label class="small mb-1">Total</label>
                    <div class="fw-bold total-price">₱0.00</div>
                    </div>
                </div>
                </div>
            </div>
            <% }) %>

            <!-- Save/Back Buttons -->
            <div class="row pt-4">
                <div class="col-12 text-end mb-3">
                <button type="submit" class="btn btn-primary save-prices-btn">Save Prices</button>
                </div>
            </div>

            </form>
        </div>
        </div>
    </div>
<script src="/js/quota.js" defer></script>
</body>
</html>
